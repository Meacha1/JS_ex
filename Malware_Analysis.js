function simulate(entries) {
    let newArr = [];
    for ( i = 0; i < entries.length; i++) {
      
      let X = entries[i];
      let Tr = entries[i + 4];
      let Tl = entries[i - 3];
      if (i + 4 > entries.length + 1) {
        Tr = X - 1;
      }
      if (i - 3 < 0){
        Tl = X - 1
      }
      
      if ( Tr >= X || Tl >= X) {
        newArr[i] = 0;
        continue;
      }
      
      newArr[i] = X;
      
    }
    
    return newArr;
  }
  
  const records = [1, 2, 0, 5, 0, 2, 4, 3, 3, 3];
  console.log(simulate(records));
  // Expected output
  // [1, 0, 0, 5, 0, 0, 0, 3, 3, 0]